function loadNews(a,b){$.get(urlNews,function(c){var d=!1;0==b?(b=c.length,d=!0):b>c.length&&(b=c.length);for(var e=0;e<b;e++){var f=c[e];appendNewsItem(f,a,d)}})}function appendNewsItem(a,b,c){b.append('<a class="newsHeader" href="./news.html?id='+a.id+'"><b>'+a.title+"</b></a>"),c?(b.append("<p><b>"+a.summary+"</b></p>"),b.append(a.html)):b.append("<p>"+a.summary+"</p>");var d=new Date(a.date);b.append('<p class="date">'+d.customFormat("#D#/#M#/#YYYY#")+"</p>")}function appendPublicationsItem(a,b,c){b.append('<a class="newsHeader" href="./news.html?id='+a.id+'"><b>'+a.title+"</b></a>"),c?(b.append("<p><b>"+a.summary+"</b></p>"),b.append(a.html)):b.append("<p>"+a.summary+"</p>");var d=new Date(a.date);b.append("<p>"+d.customFormat("#D#/#M#/#YYYY#")+"</p>")}function loadPublications(a,b){$.get(urlPublications,function(c){c.length||a.append("<p>No publications so far.</p>");var d=!1;0==b?(b=c.length,d=!0):b>c.length&&(b=c.length);for(var e=0;e<b;e++){var f=c[e];appendPublicationsItem(f,a,d)}})}function loadData(a,b,c){loadNews(b,c),loadPublications(a,c)}var urlGeneral="./resources/",urlNews=urlGeneral+"news.json",urlPublications=urlGeneral+"publications.json";Date.prototype.customFormat=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=this;return c=((b=x.getFullYear())+"").slice(-2),f=(g=x.getMonth()+1)<10?"0"+g:g,e=(d=["January","February","March","April","May","June","July","August","September","October","November","December"][g-1]).substring(0,3),j=(k=x.getDate())<10?"0"+k:k,i=(h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][x.getDay()]).substring(0,3),w=k>=10&&k<=20?"th":1==(v=k%10)?"st":2==v?"nd":3==v?"rd":"th",a=a.replace("#YYYY#",b).replace("#YY#",c).replace("#MMMM#",d).replace("#MMM#",e).replace("#MM#",f).replace("#M#",g).replace("#DDDD#",h).replace("#DDD#",i).replace("#DD#",j).replace("#D#",k).replace("#th#",w),o=m=x.getHours(),0==o&&(o=24),o>12&&(o-=12),n=o<10?"0"+o:o,l=m<10?"0"+m:m,u=(t=m<12?"am":"pm").toUpperCase(),p=(q=x.getMinutes())<10?"0"+q:q,r=(s=x.getSeconds())<10?"0"+s:s,a.replace("#hhhh#",l).replace("#hhh#",m).replace("#hh#",n).replace("#h#",o).replace("#mm#",p).replace("#m#",q).replace("#ss#",r).replace("#s#",s).replace("#ampm#",t).replace("#AMPM#",u)};
